apiVersion: v1
data:
  client-secret: YidCS1F0X1VibkVGRW81RHF4bm1RMWt3PT0n
kind: Secret
metadata:
  name: dashboard-oauth-client-secret
type: Opaque
---
apiVersion: oauth.openshift.io/v1
kind: OAuthClient
metadata:
  name: dashboard-oauth-client
secret: dashboard-oauth-client-secret
grantMethod: auto
# --- THIS IS THE FIX ---
# We explicitly allow this client to request the user:full scope
scopeRestrictions:
  - exactValues:
      - "user:full" # Grants full access to user information and permissions
      - "user:info" # Grants access to basic user information
      - "user:check-access" # Grants ability to check user's access
      - "user:list-projects" # Grants ability to list projects the user has access to
redirectURIs:
  # Add the URL you got from the 'oc get route' command
  # The path /oauth/callback is used by the oauth-proxy
  - "https://dashboard-route-dashboard-app.apps.cluster-5ghcn.dynamic.redhatworkshops.io/oauth/callback"
  